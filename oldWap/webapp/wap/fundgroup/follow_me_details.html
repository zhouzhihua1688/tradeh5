<!DOCTYPE html>
<html lang="en">
<head>
	<!--<meta charset="GBK">-->
	<meta charset="utf8">
	<title>跟我投</title>
	<meta name="viewport"
		content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<link rel="stylesheet" href="../css/fundgroup/base_gwt.css">
	<link rel="stylesheet" href="../css/base.css">
	<script type="text/javascript" src="../js/lib/jquery.3.4.1.min.js"></script>
	<script type="text/javascript" src="../js/lib/echarts.min.js"></script>
	<script type="text/javascript" src = "../js/common.js?20210106"></script>
	<style type="text/css">
		.font-arial {
			font-family: Arial;
		}
		body { font-size: 12px; }

		section {
			background-color: #fff;
			overflow: hidden;
		}

		.left {
			float: left;
		}

		.right {
			float: right;
		}

		.next {
			/* display: inline-block;
			width: 8px;
			height: 16px;
			background: url(img/icon01.png) no-repeat left top;
			-webkit-background-size: contain;
			background-size: contain;
			vertical-align: middle;
			margin-left: 7px; */
		}

		.content1 {
			/*border-top: 1px solid #dddddd;*/
			margin-bottom: .5rem;
			position: relative;
		}

		/*.content1 p {
			text-align: center;
			height: .75rem;
			line-height: .75rem;
			margin-top: .4rem;
			!*color: #fb5c5f;*!
		}

		.content1 p span {
			display: inline-block;
			padding: .1rem .5rem;
			-webkit-border-radius: 1.4rem;
			!*background: #fee5e5;*!
			margin-left: .25rem;
		}*/

		.content1 .jingzhi {
			padding: 1.25rem 0rem .6rem 0rem;
			margin-top: 4rem;
		}

		.content1 .jingzhi table {
			border: 0;
			cellspacing: 0;
			cellpadding: 0;
			border-collapse: collapse;
		}

		.content1 .jingzhi table td {
			width: 16%;
			text-align: center;
		}

		.content1 .jingzhi table tr:first-child td {
			font-size: .65rem;
			color: #666;
		}

		.content1 .jingzhi table tr:last-child td {
			font-size: 1rem;
			padding-top: .2rem;
		}

		.content1 .jingzhi table tr td:first-child {
			border-right: .1px #eee solid;
		}

		.content1 .jingzhi table tr:first-child td:last-child img {
			width: .75rem;
		}

		.content1 .tablelist_1 {
			margin-top: -.3rem;
			height: 3rem;
			background: url(../images/fundgroup/echart_table.png) no-repeat;
			background-size: cover;
			font-size: .6rem;
		}

		.content1 .tablelist_1 table {
			width: 100%;
			padding: .8rem 1.1rem .5rem 1.1rem;
		}

		.content1 .tablelist_1 table tr td {
			text-align: center;
		}

		.content1 .tablelist_1 table tr:nth-of-type(2) {
			color: #f4333c;
		}


		.content2 {
			height: 17.5rem;
		}

		.content2 h3 {
			color: #333333;
			line-height: 35px;
			padding-left: 15px;
			background-color: #f6f6f6;
		}

		.content2 .tab1 li,
		.content3 .tab1 li,
		.content4 .tab1 li {
			margin-top: .75rem;
			margin-left: .75rem;
			font-size: .85rem;
			color: #000;
			text-align: center;
		}

		.content2 .tab1 li img,
		.content3 .tab1 li img,
		.content4 .tab1 li img {
			width: 1rem;
		}

		.content2 ul li a {
			color: #000;
			display: block;
			width: 100%;
			height: 1.5rem;
			line-height: 1.5rem;
			float: left;
			text-align: center;
			font-size: 14px;
		}

		.content2 ul.tab2 {
			width: 90%;
			margin: 0 auto;
		}

		.content2 ul.tab2 li {
			width: 20%;
			float: left;
		}

		.content2 ul.tab2 li a {
			width: 100%;
			background-color: #fff;
			margin-left: 0%;
			color: #148ce6;
			border: 1px #148ce6 solid;
		}

		.content2 ul.tab2 li:first-child a {
			border-radius: 3px 0 0 3px;
			border-right: none;
		}

		.content2 ul.tab2 li:last-child a {
			border-radius: 0 3px 3px 0;
		}

		.content2 ul.tab2 li.active a {
			background-color: #148ce6;
			color: #ffffff;
		}

		.footer_fiexd {
			position: fixed;
			z-index: 99999999;
			left: 0;
			bottom: 0;
			height: 2.5rem;
			width: 100%;
			background: #fff;
		}

		.footer_fiexd ul {
			/* display: flex; */
		}

		.footer_fiexd ul li {
			box-sizing: border-box;
			float: left;
			width: 50%;
			padding: 0;
			margin: 0;
			/* flex: 1; */
			height: 2.5rem;
			background: #fe7e01;
		}

		/* .footer_fiexd ul li:nth-of-type(1){	} */
		.footer_fiexd ul li:nth-of-type(2) {
			border-right: 1px #fff solid;
			background: #fe7e01;
		}

		.footer_fiexd ul li a {
			display: block;
			width: 100%;
			height: 100%;
			line-height: 2.5rem;
			text-align: center;
			color: #fff;
			font-size: .8rem;
		}
		.tip,
		.tip2 {
			position: fixed;
			top: 0;
			left: 0;
			background-color: rgba(0, 0, 0, 0.7);
			height: 100%;
			width: 100%;
			overflow: auto;
			font-size: 0.6rem;
			z-index: 999999999;
		}

		.tip .tip_wrap,
		.tip2 .tip_wrap {
			position: absolute;
			left: 50%;
			top: 50%;
			-webkit-transform: translate(-50%, -50%);
			transform: translate(-50%, -50%);
			margin: 0;
			width: 80%;
			/*height:16rem;*/
			background: #fff;
			-webkit-border-radius: 5px;
		}

		.tip .tip_wrap .tip_content p,
		.tip2 .tip_wrap .tip_content p {
			padding: 0 1.5rem 0 1.5rem;
			font-size: .7rem;
			margin-top: .7rem;
			line-height: 1rem;
			margin-bottom: 1rem;
			text-align: center;
			line-height: 3rem;
		}

		.tip .tip_wrap .tip_content,
		.tip2 .tip_wrap .tip_content {
			border-bottom: 1px #eee solid;
		}

		.tip .tip_wrap .tip_btn ul li,
		.tip2 .tip_wrap .tip_btn ul li {
			text-align: center;
			font-size: .75rem;
			color: #006bfe;
		}

		.tip .tip_wrap .tip_btn ul li a,
		.tip2 .tip_wrap .tip_btn ul li a {
			display: block;
			text-align: center;
			font-size: .75rem;
			width: 100%;
			padding: .7rem 0;
		}

		.noData {
			position: absolute;
			top: 45%;
			right: 0;
			font-size: 0.24rem;
			width: 100%;
			text-align: center;
		}

		.content1 .jingzhi img {
			transform: rotateX(180deg)
		}

		.tablelist_1 {
			display: none
		}
		.fund-tab-btn{
			display: flex;
			justify-content: center;
		}
		.red { color: #fe5a5b; }
		.green{color: #009944; }
        .fund-i{
            width: 0.75rem;
            height: 0.75rem;
            background: url(../images/fundgroup/warningIcon.png) no-repeat;
            background-size: 100% 100%;
            display: inline-block;
            vertical-align: middle;
            margin-left: 0.4rem;
            margin-top: -0.25rem;
        }
		/*弹框*/
		.layer{z-index: 9999999; display: none;  position: fixed;  top: 0;  left: 0;  background-color: rgba(0,0,0,0.7);  height: 100%;  width: 100%;  overflow: auto;}
		.layer-wrap{margin: 40% 15% 5% 15%;background-color: #fff;border-radius: 8px;}
		.layer-body{padding: 7% 8% 7% 8%;text-align: center;}
		.layer-wrap .layer-body p{font-size:14px;line-height: 21px; color: #666;display: inline-block;text-align: justify}
		.layer-wrap .layer-body span{font-size: 16px;display: block;  padding-top: 10px;color: #333;font-weight: 600;}
		.layer-wrap button{font-size: 16px;
			color: #fb505f;
			background-color: #fff;
			border-top: solid 1px #eeeeee;
			width: 90%;
			height: 45px;
			display: block;
			margin: 0 auto;
		}
		.layer-wrap button:focus{outline: none;}
		.content3 .legend{padding: 0 .4rem;}
		.content3 .legend li span {
			flex-basis: 50%;
			padding-left: 5px;
			overflow: hidden;
			font-size: .55rem;
		}
		.red { color: #f4333c; }
		.green{color: #009944 }
		.gray{color: #666666}

		.content8 { margin: .2667rem 0; }
		.content8 ul { padding: 0 10px; height: 2.5rem; line-height: 2.5rem; border-bottom: 1px solid #eee; margin-right: 10px }
		.content8 ul li:first-child { font-size: .75rem; color: #000; }
		.content8 ul li:first-child span { font-size: .32rem; color: #000; }
		.content8 ul li:last-child span { color: #fb5c5f; }
		.content8>p { color: #666; font-size: .346rem; line-height: 1.5; padding: 16px 15px; text-align: justify; }
		.content0{
			display: none;
			margin-top: 1.5rem;
		}
		.content0 .jingzhi {
			font-size: .65rem;
			/* font-weight: 900; */
			height: 2.5rem;
			box-sizing: border-box;
			color: #000;
			padding: .75rem;
			margin-top: 1.4rem;
			display: flex;
			align-items: center;
			justify-content: space-between;
		}

		.content0 .jingzhi img {
			width: .7rem;
			/* transform: rotateX(180deg) */
			display: inline-block;
		}

		.content0 .jingzhi img.right_1 {
			transform: rotateZ(270deg);
		}

		.content0 .wrap {
			overflow: hidden;
			position: relative;
			width: 100%;
			height: 2.5rem;
		}

		/* 半透明提示窗 */
		.sm_tip{position: absolute;top:8.5rem;left:35%;background: rgba(0, 0, 0, .5);border-radius:8px; display: none;}
		.sm_tip p{padding:1rem 1.5rem;color:#fff;font-size: .75rem;}

		.star-selected{content: url("../images/fundgroup/select_checked_star_big.png");margin-bottom: -2px;}
		.star-unchecked-selected{content: url("../images/fundgroup/select_unchecked_star_big.png");margin-bottom: -2px;}
/* 2020.7.30新改CSS*/
        .yieldList .jianyi{width:95%;}
        .yieldList .jianyi .tupian{width:0.75rem;height:0.75rem;float:left;}
        .yieldList .jianyi .text{margin-left:0.75rem;font-size:0.75rem;color:#000;text-indent:0.5rem;padding-bottom:1rem;height:2.2rem;overflow-y:auto}
        .yieldList .jianyi .fuwu{height:1.75rem;width:100%;}
        .yieldList .jianyi .fuwu .startTime{line-height:1.75rem;font-size: 0.6rem;margin-left:0.75rem;float:left;}
        .yieldList .jianyi .fuwu .chakan{display:none;line-height:1.75rem;font-size: 0.6rem;margin-left:0.75rem;color:#148ce6;float:right;}
        .content_wrap .wrap .sixMonth{width:90%;height:1.5rem;margin:0 auto;margin-top:1rem}
        .content_wrap .wrap .sixMonth .text{font-size:0.65rem;color:#666;float:left;line-height:1.5rem;margin-left:2rem;}
        .content_wrap .wrap .sixMonth .text2{font-size:0.65rem;color:#666;float:right;line-height:1.5rem;vertical-align:middle}
        .content_wrap .wrap .bili{width:90%;height:1.5rem;margin:0 auto;padding:0px;}
        .content_wrap .wrap .bili .text{font-size:1.35rem;color:#f4333c;line-height:1.5rem;float:left;margin-left:1.5rem;}
        .content_wrap .wrap .bili .text2{font-size:1.35rem;color:#f4333c;line-height:1.5rem;float:right;margin-right:1.5rem;}
        .content_wrap .wrap .changqi{width:90%;height:0.1rem;margin:0 auto;margin-top:1rem;}
        .content_wrap .wrap .changqi .text{width:3.25rem;height:1.0rem;border:1px solid #999;
        	font-size:0.65rem;text-align:center;line-height:1rem;color:#999;border-radius:3px;float:left;}
        .content_wrap .wrap .changqi .text2{width:3.25rem;height:1.0rem;border:1px solid #999;
        	font-size:0.65rem;text-align:center;line-height:1rem;color:#999;border-radius:3px;float:left;margin-left:0.5rem;}
		body{background-color:#f6f6f6;}

.content4 > div {
	/* background: #f7fcff; */
	background: url('../../adviser/img/triangle.png') no-repeat;
	background-clip:border-box;
	background-size: 100% 100%;
	margin-left: 0.75rem;
	margin-right: 0.75rem;
	padding: 0.75rem 0 0.75rem 0.75rem;
	margin-bottom: 0.75rem;
}
.pieEle > div:nth-of-type(1){display:block;float:left;}
.pieEle > div:nth-of-type(2){display:block;float:left;width:6.25rem;}
.pieEle > div:nth-of-type(3){display:block;float:left;}
	</style>
	<link rel="stylesheet" href="../css/fundgroup/follow_me_detail.css?1">
	<script type="text/javascript" src="../js/lib/phone-size.js"></script>
</head>

<body>
	<section class="content1">
		<div class="blueBgc headerBar"></div>
		<div class="yieldList">
			<div class="jianyi" style="border-bottom:1px solid #eee">
				
				<div class="text" id="fundgroupDesc"></div>
				<div style="width:100%;margin-top:.25rem;clear:both;border:0.25px solid #EEE"></div>
				<div class="fuwu">
					<div class="startTime" id="createtimeStr"></div>
					<div class="chakan"><a href="javascript:;" id="proPageUrl">查看策略理念</a></div>
				</div>
			</div>
		</div>
		<div class="content_wrap">
			<div class="wrap" style="padding-top:2.5rem;">
				<div class="sixMonth">
					<div class="text">近6月收益率</div>
					<div class="text2" style="position:relative">
						<span style="margin-right:2.25rem">近1年收益率</span>
						<img src="../images/fundgroup/warningIcon.png" onclick="showTips(11)" alt="" style="width:0.75rem;height:0.75rem;position:absolute;top:0.4rem;right:0px">
					</div>
				</div>
				<div class="bili">
					<div class="text" id="profit_six"></div>
					<div class="text2" id="profit_year"></div>
				</div>
				<div class="changqi">

				</div>
			</div>
		</div>
	</section>
		<div class="content0" id="content0" style="margin:0;background-color:#fff">
			<ul class="wrap">
			</ul>
		</div>
	<section class="content2">
		<div>
			<ul class="clearfix border tab1">
				<li style="text-align:left!important">
					<!-- <img src="./img/round.png" alt="" style="margin-right: 1rem;"> -->
					<span style="float:left">收益走势</span>
					<span style="float:right;margin-right:0.8rem"><!--<img src="img/warningIcon.png" alt="" onclick="showTips(22)" style="width:0.75rem;height:0.75rem;">--></span>
					<!-- <img style="transform: rotateY(180deg);margin-left: 1rem;" src="./img/round.png" alt=""> -->
				</li>
			</ul>
			<div class="diagram">
				<div>
					<div id="pie1" style="width: 100%; height: 13rem;"></div>
				</div>
				<div class="noData" style="display: none;">
					<p>没有足够的数据可展示</p>
				</div>
			</div>
		</div>
		<ul class="clearfix tab2">
			<li><a>近1个月</a></li>
			<li><a>近3个月</a></li>
			<li class="active"><a>近6个月</a></li>
			<li><a>近一年</a></li>
			<li><a>成立以来</a></li>
		</ul>
	</section>
	<section class="content4">
		<ul class="clearfix border tab1">
			<li style="text-align:left">
				<!-- <img src="./img/round.png" alt="" style="margin-right: 1rem;"> -->
				<span>基金明细</span>
				<!-- <img style="transform: rotateY(180deg);margin-left: 1rem;" src="./img/round.png" alt=""> -->
			</li>
		</ul>
		<div>
			<ul>
				<li class="leiming">
					<img class="manager_picture" src="" alt="">
					<div>
						<h3><span class="manager_name"></span></h3>
						<p><span class="manager_desc"></span></p>
					</div>
					<div>
						<a class="manager_home_url" href="javascript:void(0);">
							<img src="../images/fundgroup/house.png" alt="">
							TA的主页
						</a>
					</div>
				</li>
				<li class="produce">
					<p>
						<span class="produce_title fund_name"></span>
						<span class="produce_earnings from_year_profit" style="font-weight:bold">+0.00%</span>
					</p>
					<p>
						<span class="produce_numbers fund_id"></span>
						<span class="fund_desc">近一年收益率</span>
					</p>
				</li>
				<li class='tag fund_tags'>
					<!--<span>五星基金</span>
					<span>价值蓝筹</span>
					<span>添富推荐</span>
					<span>骑牛跨熊</span>-->
				</li>
			</ul>
		</div>
	</section>
	<section class="content3 scrollBox" style="margin-top: 0rem">
		<div>
			<div class="diagram">
				<div>
					<div id="pie2" style="width: 100%; height: 11rem;"></div>
				</div>
			</div>
			<ul class="legend fund-list">
				<!--<li>
					<span class="pieEle "><i style="background-color: #5c74cd;"></i>汇添富蓝筹稳健混合</span>
					<span class="pieEle"><i style="background-color: #ee6f6f;"></i>汇添富价值精选混合</span>
				</li>
				<li>
					<span class="pieEle"><i style="background-color: #fda985;"></i>汇添富优势精选混合</span>
					<span class="pieEle"><i style="background-color: #feda77;"></i>汇添富全球互联混合</span>
				</li>
				<li>
					<span class="pieEle"><i style="background-color: #76dde1;"></i>汇添富创新医药混合</span>
					<span class="pieEle fontBold"><i style="background-color: #68b0ea;"></i>汇添富消费行业混合</span>
				</li>-->
			</ul>
			<!-- color:['#5c74cd', '#ee6f6f', '#fda985', '#feda77', '#76dde1', '#68b0ea'],, -->

		</div>
	</section>
	<section class="content2 content5">
		<div><!--
			<ul class="clearfix tab2 fund-tab-btn">
				<li class="active"><a>蓝筹稳健</a></li>
				<li><a>价值精选</a></li>
				<li><a>优势精选</a></li>
				<li><a>全球互联</a></li>
				<li><a>创新医药</a></li>
				<li><a>消费行业</a></li>
			</ul>-->
			<div class="diagram">
				<div>
					<div id="pie3" style="width: 100%; height: 15rem;"></div>
				</div>
				<div class="noData" style="display: none;">
					<p>没有足够的数据可展示</p>
				</div>
			</div>
		</div>
	</section>

	<section class="content6" style="margin-top: .45rem;">
		<div
				style="border-bottom: 1px solid #eee;display: flex;align-items: center;justify-content: space-between;padding: .75rem;color: #000;font-size: .75rem;">
			<p><span>交易规则</span></p>
			<img style="transform: rotateZ(270deg);width: .7rem;" src="../images/fundgroup/select_down.png">
		</div>
		<div class="deal">
			<div >
				<div class="title">
					<text >买入提交</text>
					<text >开始确认份额</text>
					<text >查看收益</text>
				</div>
				<div class="line">
					<span class="round1"></span>
					<span class="round2"></span>
					<span class="round3"></span>
				</div>
				<div class="time">
					<span class="submit-time"></span>
					<span class="confirm-time"></span>
					<span class="view-profit-time"></span>
				</div>
			</div>
		</div>
	</section>
	<section class="content7" id="normalQuestion" style="margin-top: .45rem;">
		<div
				style="border-bottom: 1px solid #eee;display: flex;align-items: center;justify-content: space-between;padding: .75rem;color: #000;font-size: .75rem;">
			<p><span>常见问题</span></p>
			<img style="transform: rotateZ(270deg);width: .7rem;" src="../images/fundgroup/select_down.png">
		</div>
	</section>

	<section class="content8" style="margin:0">
		<ul id="content8_ul">
			<li class="left" style="padding-left: .35rem;height:2.5rem;line-height:0rem;width:150px;">
				<p style="margin-top:0.75rem;">最近调仓</p>
				<div style="margin-top:1rem;font-size:0.6rem;color:#666" id="changeStr"></div>
			</li>
			<li class="right" style="font-size: .6rem;">
				<p ><a id="transferCount_a" href="javascript:void(0);" style="color:#666"><span id="transferCount" class="font-arial"></span>次历史调仓</a><img style="transform: rotateZ(270deg);width: .7rem;" src="../images/fundgroup/select_down.png"></p>
			</li>
		</ul>
	</section>
	<div style="width:100%;background:#fff;">
		<div style="width:90%;margin:0 auto;padding:0.85rem" id="changeAdvise"></div>
	</div>
<!--
	<section class="content7" id="regularReport" style="margin-top: .45rem;">
		<div
				style="border-bottom: 1px solid #eee;display: flex;align-items: center;justify-content: space-between;padding: .75rem;color: #000;font-size: .75rem;">
			<p><span>定期报告</span></p>
			<img style="transform: rotateZ(270deg);width: .7rem; margin-right: .2rem" src="../images/fundgroup/select_down.png">
		</div>
	</section>-->
	<div style="width:100%;padding-bottom:2.5rem">
		<div style="width:90%;margin:0 auto;font-size:0.65rem;color:#999">
			<p style="margin-top:0.75rem"><span style="color:#666">风险提示：</span>组合申赎服务业务本质上是基金组合中各成分基金的交易指令的集合，并非任何形式的基金产品或资产管理计划。市场有风险，投资需谨慎。</p>
			<p style="margin-top:0.75rem"><span style="color:#666">分红方式的特别提示：</span>为了保证投资者持有的基金组合中各基金的配置比例和基金组合申赎策略展示方案保持一致，组合中各基金的分红方式均将固定为“红利再投资”方式，且在持有基金组合期间不可变更为“现金分红”方式。投资者对此予以充分理解，并授权汇添富基金在投资者首次进行基金组合申购时，发起相应申请，设置基金分红方式为“红利再投资”。</p>
			<p style="margin-top:0.75rem"><span style="color:#666">组合收益率说明：</span>根据组合服务成立以来所有成分基金的占比和净值变化测算得到，作为组合服务的业绩参考。因模拟测算过程未考虑实际可能产生的交易费用，且客户实际投资存在投资时间偏差和成分基金占比偏差等情况，组合业绩与客户实际持仓的表现可能存在一定偏差。</p>
			<p style="margin-top:0.75rem;width:100%;" id="unificationValue">
			<b>成分基金业绩：</b>
			<span id="last" style="word-break:break-all;"></span>
		    </p>
		</div>
		
	</div>

	<!--<section style="background-color: #f6f6f6;padding: .5rem .6rem;font-size: .6rem;">
        <span>温馨提示：跟我投服务适合中高风险承受能力的投资者，汇添富保留跟我投服务基金构成及比例调整的最终解释权。</span>
    </section>-->
	<div style="height:3rem;"></div>
	<div class="footer_fiexd">
		<ul>
			<li><a href="javascript:;" class="Investment theme_background">定投</a></li>
			<li><a href="javascript:;" class="buy theme_background">一键购买</a></li>
		</ul>
	</div>

	<div class="tip" style="display: none;">
		<div class="tip_wrap">
			<div class="tip_content">
				<p>您尚未登陆，请先登录</span></p>
			</div>
			<div class="tip_btn">
				<ul style="width: 100%;">
					<li style="float: left;width:50%;box-sizing: border-box;border-right: 1px #eee solid"
						class="close_tip"><a href="javascript:;">取消</a></li>
					<li style="float: left;width:50%;box-sizing: border-box;"><a href="login.html">去登录</a></li>
				</ul>
			</div>
		</div>
	</div>
	<div class="tip2" style="display: none;">
		<div class="tip_wrap">
			<div class="tip_content">
				<p>您还未绑卡，请先绑定银行卡</span></p>
			</div>
			<div class="tip_btn">
				<ul style="width: 100%;">
					<li style="float: left;width:50%;box-sizing: border-box;border-right: 1px #eee solid"
						class="close_tip"><a href="javascript:;">取消</a></li>
					<li style="float: left;width:50%;box-sizing: border-box;"><a href="addBankCard_2.html">去绑卡</a></li>
				</ul>
			</div>
		</div>
	</div>
	<div class="sm_tip">
		<p>添加成功</p>
	</div>
	<!--弹框-->
	<div class="layer layer-1" style="display: none;">
		<div class="layer-wrap">
			<div class="layer-body">
				<p id="display_yield_desc">“模拟历史年化业绩”是采用模拟历史数据的方法回测得出。本组合的过往业绩并不预示其未来表现，也不作为本组合业绩表现的保证。</p>
			</div>
			<button>我知道了</button>
		</div>
	</div>
		<div class="layer layer-2" style="display: none;">
			<div class="layer-wrap">
				<div class="layer-body">
					<p id="display_desc"></p>
				</div>
				<button>我知道了</button>
			</div>
		</div>
		
	<!-- 这是新加的弹窗	 -->
    <div class="layer" id="tip11" style="display: none;">
		<div class="layer-wrap">
			<div class="layer-body">
				<p>根据组合成分基金的占比和净值变化测算的组合业绩，因模拟测算未考虑交易费用，且客户跟投存在时间偏差等情况，组合业绩与客户实际获取收益可能存在一定偏差。</p>
			</div>
			<button style="color:#006bfe">确定</button>
		</div>
	</div>
     <div class="layer" id="tip22" style="display: none;">
		<div class="layer-wrap">
			<div class="layer-body">
				<p>根据组合成分基金的占比和净值变化测算的组合业绩，因模拟测算未考虑交易费用，且客户跟投存在时间偏差等情况，组合业绩与客户实际获取收益可能存在一定偏差。</p>
			</div>
			<button style="color:#006bfe">确定</button>
		</div>
	</div>
		
		
		
	<script>
		
	var managerDescObj = {};
	//查询基金经理描述

	$.get('/mobile-bff/v1/unification/query?keys=managerDescObj' , function(result){
		if(result.returnCode == 0 && result.body != undefined && result.body != null && result.body['managerDescObj']){
			var str = result.body['managerDescObj']['unificationValue'];
			var arr = str.split("|");
			if(arr.length > 0){
				for(var k in arr){
					var item1 = arr[k];
					var item2 = item1.split("*");
					managerDescObj[item2[0]] = item2[1];
				}
			}
			
		}
	});
	
	var is_set_pwd_show_tip_err_code = '0';
	var gentouNumber = 0;
	var dataList = [
		{'fundId': '519066', 'name': '汇添富蓝筹稳健混合', 'value': 15},
		{'fundId': '519069', 'name': '汇添富价值精选混合', 'value': 15},
		{'fundId': '006113', 'name': '汇添富创新医药混合', 'value': 15},
		{'fundId': '000083', 'name': '汇添富消费行业混合', 'value': 15},
		{'fundId': '000696', 'name': '汇添富环保行业股票', 'value': 10},
		{'fundId': '008063', 'name': '汇添富大盘核心资产混合', 'value': 10},
		{'fundId': '006308', 'name': '汇添富全球消费混合(QDII)人民币A', 'value': 10},
		{'fundId': '001668', 'name': '汇添富全球互联混合(QDII)', 'value': 10}
	];
	  var charaDataAll = [];
	  var fundDetailInfoAll = [];

	//显示隐藏
    var num = 0;
    $('#jingzhi2').on('click', function () {
        num += 180
        $(this).find('img').css({ 'transform': ' rotateX(' + num + 'deg)' })
        $('.tablelist_1').toggle()
        $('.jingzhi').toggleClass('mgTop')
        $(this).toggleClass('show')
    })
    /*弹框*/
    /*关闭弹框*/
    $('.layer .layer-wrap button').on("click",function () {
        $('.layer').hide();
        $(document.body).css({  "overflow":"auto"});
    });
    function layerShow(){
        $(document.body).css({ "overflow-x":"hidden","overflow-y":"hidden"});
        $('.layer-1').show();
    }
    function layerShow2(){
        $(document.body).css({ "overflow-x":"hidden","overflow-y":"hidden"});
        $('.layer-2').show();
    }

    $(".pur-btn").on("click", function () {
        window.location.href = App.getUrlParam("link");
    });
    $(".div-jump").click(function () {
        window.location.href = "https://activity.99fund.com/activity-center/act-resources/pages/tiaocanggwt202001/index.html";
    });

    var mychart_gp_1;
    var establishDateStr = "";
    var groupId = "";
    var selectedFundName = "";
	var myChart_1, myChart_3;
	var incomes1 = [];
	var incomes2 = [];

    $(function(){
        var themeStyle = App.getUrlParam("themeStyle");
        if(themeStyle == '2'){
            $(".headerBar").css("background-color", '#0757b2');
            $(".theme_background").css("background-color", '#0757b2');
            $(".theme_font_1").css("color", '#0757b2');
        } else if (themeStyle == '3'){
            $(".headerBar").css("background-color", '#4f423d');
            $(".theme_background").css("background-color", '#4f423d');
            $(".theme_font_1").css("color", '#4f423d');
            $(".theme_background").css("color", '#d8b456');
        } else if (themeStyle == '4'){
            $(".headerBar").css("background-color", '#bf0012');
            $(".theme_background").css("background-color", '#bf0012');
            $(".theme_font_1").css("color", '#bf0012');
        } else {
            $(".headerBar").css("background-color", '#fe7e01');
            $(".theme_background").css("background-color", '#fe7e01');
            $(".theme_font_1").css("color", '#fe7e01');
        }

        var showBtn = App.getUrlParam("showBtn");
        if(showBtn == '0'){
            $(".footer_fiexd").hide();
		}

        $(".content6").click(function () {
            window.location.href = "../../adviser/rule.html";
        });
        $("#normalQuestion").click(function () {
            window.location.href = "../../adviser/question.html";
        });

        $("#regularReport").click(function () {
            window.location.href = "../../adviser/regularReport.html?groupId="+App.getUrlParam("groupId");
        });
        // 更多
        $('.upfold').click(function(){
            $(this).prev().toggleClass('ellipsis');
            $(this).toggleClass('pack-up');
        });
        // 日涨跌幅下拉
        $(".historical-detail").click(function(){
            $(this).find('.down,.up').toggleClass('down up');
            $('.content1 table').toggleClass('hide');
        });
		var groupId = App.getUrlParam("groupId");
        $(".Investment").click(function () {
        	buttonJump('MIP');
            //window.location.href = "create_mip.html?groupId=" + App.getUrlParam("groupId");
        });
        $(".buy").click(function () {
        	buttonJump('BUY');
            //window.location.href = "follow_me_payment.html?groupId=" + App.getUrlParam("groupId") + "&fundIds=519066,519069,470009,001668,006113,006408&percents=20,20,15,15,15,15";
        });

//特殊处理 weixin登录态
function buttonJump(type) {

	if(HTF.isWeixin()){
        var code = HTF.getUrlParam("code");
        var ssoCookie = HTF.getCookie("sso_cookie");

        if (HTF.isNotBlank(ssoCookie)) {
        	entryChannel = App.getCookie("entryChannel");
        	loginChannel = App.getCookie("loginChannel");
        	if((loginChannel != "" && entryChannel != "" && loginChannel != entryChannel) || (loginChannel == "" && entryChannel != "" )){
				//以当前登录的为主
	            if(HTF.isNotBlank(code)) {
	                // code存在，发送codeLoginRequest.ajax请求，使用code登陆并获取sso_cookie
	                HTF.codeLoginRequest(code);
	            } else {
	            	if (type == 'MIP'){
				        HTF.next_jump = prefix + "/mobileEC/wap/fundgroup/create_mip.html?groupId=" + App.getUrlParam("groupId");
				    }else if (type == 'BUY'){
				        HTF.next_jump = prefix + "/mobileEC/wap/fundgroup/follow_me_payment.html?groupId=" + App.getUrlParam("groupId") + "&fundIds=519066,519069,006113,000083,000696,008063,006308,001668&percents=15,15,15,15,10,10,10,10";
				    }
	                // code不存在，需要登录信息的业务逻辑触发时，再去获取code
	                 HTF.getCode();
	            }
        	}else{
				// ssoCookie存在，已登录状态，无需处理code
				// 业务逻辑ajax请求正常处理对应（带着sso_cookie）
				if(is_set_pwd_show_tip_err_code == "2"){
					$(".tip2").show();
					$("#add_bind_card").attr("href", "../card/bindCardInputPassword_1.html?referUrl=" + encodeURIComponent(document.URL));
					return;
				}else if (type == 'MIP'){
					window.location.href = "create_mip.html?groupId=" + App.getUrlParam("groupId");
				}else if (type == 'BUY'){
					window.location.href = "follow_me_payment.html?groupId=" + App.getUrlParam("groupId") + "&fundIds=519066,519069,006113,000083,000696,008063,006308,001668&percents=15,15,15,15,10,10,10,10";
				}
			}
        } else {
            // ssoCookie不存在，未登录状态
            if(HTF.isNotBlank(code)) {
                // code存在，发送codeLoginRequest.ajax请求，使用code登陆并获取sso_cookie
                HTF.codeLoginRequest(code);
            } else {
            	if (type == 'MIP'){
			        HTF.next_jump = "https://app.99fund.com/mobileEC/wap/fundgroup/create_mip.html?groupId=" + App.getUrlParam("groupId");
			    }else if (type == 'BUY'){
			        HTF.next_jump = "https://app.99fund.com/mobileEC/wap/fundgroup/follow_me_payment.html?groupId=" + App.getUrlParam("groupId") + "&fundIds=519066,519069,006113,000083,000696,008063,006308,001668&percents=15,15,15,15,10,10,10,10";
                // code不存在，需要登录信息的业务逻辑触发时，再去获取code
                 HTF.getCode();
                 }
            }
        }
	}else{
	    if(is_set_pwd_show_tip_err_code == "1"){
	        $(".login_tip").show();
	        return;
	    }else if(is_set_pwd_show_tip_err_code == "2"){
	        $(".tip2").show();
	        $("#add_bind_card").attr("href", "../card/bindCardInputPassword_1.html?referUrl=" + encodeURIComponent(document.URL));
	        return;
	    }else if (type == 'MIP'){
	        window.location.href = "create_mip.html?groupId=" + App.getUrlParam("groupId");
	    }else if (type == 'BUY'){
	        window.location.href = "follow_me_payment.html?groupId=" + App.getUrlParam("groupId") + "&fundIds=519066,519069,006113,000083,000696,008063,006308,001668&percents=15,15,15,15,10,10,10,10";
	    }
	}

}

        queryFollowInfo(groupId);
        //组合详情数据加载
        requestGroupFundDetail(groupId);


        /**组合曲线表数据加载**/
        //曲线图1月
        getChartData(groupId, "0,1,4", 2, establishDateStr);
        queryGrouptradeDateInfo();
		queryRecommendInfo();

        //加载所有基金走势信息
        dataList.forEach(function(item, index){
            //基金信息
            $.get(App.projectNm + "/fund/fund_detail_info?fundId="+item.fundId,function(resultStr){
                var result = JSON.parse(resultStr);
                if(result.returnCode == 0){
                    fundDetailInfoAll[item.fundId] = result.body;
                    // console.log(fundDetailInfoAll);
                    if(index == 0){
                        getFundDetail(item.fundId);
                    }
                }
            });
            //组合信息
            $.get("/productcenter/v1/new/compose/funds/"+item.fundId+"/curve/yield/collections?fundId="+item.fundId+"&dateRangeType=08",function(result){
                if(result.returnCode == 0){
                    charaDataAll[item.fundId] = result.body;
                    // console.log(charaDataAll);
                    if(index == 0){
                        getFundChartData(item.fundId);
                    }
                }
            });
        });

        getTransferTimes(groupId);

        $(".tab2 li").click(function(){	//1个月、 3个月、 6个月 、1年、成立以来
            if($(this).hasClass("active")) { return;}
            $(this).parents("ul").find("li").eq($(this).index()).addClass("active").siblings().removeClass('active');

            var index = $(this).index();
            switch(index)
            {
                case 0:
                    getChartData(groupId, "0,1,4", 1, establishDateStr);
                    break;
                case 1:
                    getChartData(groupId, "0,1,4", 9, establishDateStr);
                    break;
                case 2:
                    getChartData(groupId, "0,1,4", 2, establishDateStr);
                    break;
                case 3:
                    getChartData(groupId, "0,1,4", 3, establishDateStr);
                    break;
                case 4:
                    getChartData(groupId, "0,1,4", 4, establishDateStr);
                    break;

            }
        });
    });

	var option_1 = {
			color: ['#fb5c5f', '#89acd8', '#f11', '#d48265', '#91c7ae', '#749f83', '#ca8622', '#bda29a', '#6e7074', '#546570', '#c4ccd3'],
			tooltip: {
				show: true, trigger: 'axis',
				axisPointer: {
					type: 'cross', label: { backgroundColor: 'rgba(0,0,0,0)', textStyle: { color: "red" } }, lineStyle: { color: "#1aa2e6" }
				},
				position: ["50%", "3%"], alwaysShowContent: true, backgroundColor: "rgba(0,0,0,0)", textStyle: { color: "#333" },
				//    formatter: ' <div style="width: 100%;margin-left: -50%;font-size: 14px;">{a0}: <span style="color:#f4333c">{c0}%</span></div>'
				formatter: function (item) {
					var itmedata1 = item[0].data + '%';
					return ' <div style="width: 100%;margin-left:-72%;color:#666666;font-size:.7rem">20'+item[0].axisValue.replace(/-/g,'.')+'&nbsp;&nbsp;组合收益率：</span><span style="font-size:.7rem">' + itmedata1 + '</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp&nbsp</div>'
			}
			},
			grid: { left: '3%', right: '6%', bottom: '5%', top: "20%", containLabel: true },
			xAxis: [
				{
					type: 'category', boundaryGap: false, axisTick: { show: false },
					// splitLine: { show: true, lineStyle: { color: "#999999" } },
					axisLine: { show: false, lineStyle: { color: "#999999" } },
					axisLabel: { interval: 30 ,formatter: function(value, index){
                            if(index ==0){ return "   " + value; }
                            return value + "      ";
                        }},
					data: [],
				}
			],
			yAxis: [
				{
					type: 'value',
					axisLine: { show: true, lineStyle: { color: "#f1f1f1" } },
					axisTick: { show: false },
					splitLine: { show: true, lineStyle: { color: "#f1f1f1" } },
					axisLabel: { show: true, formatter: "{value}%", textStyle: { color: "#999999", fontFamily: "Arial" } },
					axisPointer: { label: { show: false }, lineStyle: { type: "solid", color: "#1aa2e6" } }
				}
			],
			series: [
				{
					symbol: "none", name: '组合收益', type: 'line', smooth: true,
					showSymbol: false,
					hoverAnimation: false,
					areaStyle: {
						normal: {
							color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
								offset: 0, color: '#e8f4fd' // 0% 处的颜色
							}, {
								offset: 1, color: '#fff' // 100% 处的颜色
							}], false)
						}
					},
					lineStyle: {
						normal: {
							color: "#148ce6",
							width: 1
						}
					},
					data: []
				},
				{
					symbol: "none", name: '沪深300', type: 'line', smooth: true,
					showSymbol: false,
					hoverAnimation: false,
					// areaStyle: {
					// 	normal: {
					// 		color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
					// 			offset: 0, color: '#000' // 0% 处的颜色
					// 		}, {
					// 			offset: 1, color: '#000' // 100% 处的颜色
					// 		}], false)
					// 	}
					// },
					lineStyle: {
						normal: {
							color: "#fb5c5f",
							width: 1
						}
					},
					data: []
				},
			]
	};
	var option_2_color = ['#feb32b', '#75dde4', '#60afee', '#5b74ce', '#c62435', '#ec817c', '#f8ab8a', '#fada75'];
	var option_2 = {
			  color: option_2_color,

			  tooltip: {
				  show: true, trigger: 'item',
				  position: ["42.5%", "41.5%"], alwaysShowContent: true, backgroundColor: "rgba(0,0,0,0)", textStyle: { color: "#333" },
				  //    formatter: ' <div style="width: 100%;margin-left: -50%;font-size: 14px;">{a0}: <span style="color:#f4333c">{c0}%</span></div>'
				  formatter: function (item) {
					  // var itmedata1 = itme[0].data + '%';
					  // var itmedata2 = itme[1].data + '%';
					  return "<div><p style='font-size:.6rem'>跟投人次</p><h2 class='followNum' style='text-align:center;font-weight:900;font-size:.6rem;'>"+ gentouNumber.toLocaleString() +"</h2></div>";
				  },
			  },
			  series: [
				  {
					  // name: '访问来源',
					  type: 'pie',
					  radius: ['39%', '59%'],
					  center: ['50%', '50%'],

					  avoidLabelOverlap: false,
					  label: {
						  normal: {
							  show: false,
							  position: 'outside',
								formatter: function (item) {
									var strs = item.data.name + ' ' + item.percent + '%'
									var str = ''
									if(strs.indexOf("人民币") > -1){
										str = '汇添富全球消费混合\n(QDII)人民币A'+ ' ' + item.percent + '%';
									}else if(strs.indexOf("全球互联") > -1){
										str = '汇添富全球互联混合\n(QDII)'+ ' ' + item.percent + '%';
									}else{
										strs = strs.split(''); //字符串数组
										
										for (var i = 0, s; s = strs[i++];) { //遍历字符串数组
											str += s;
											if (!(i % 8)) str += '\n'; //按需要求余
										}
									}
									return str
								}
							  // rotate:90,

						  },
						  emphasis: {
							  show: true,
							  textStyle: {
								  fontSize: '11',
								  // fontWeight: 'bold',
							  }
						  }
					  },
					  labelLine: {
						  normal: {
							  length: 24,
							  length2: 0,
						  }
					  },
					  data: []
				  }
			  ]
	};
	
	var option_3 = {
				color: ['#fb5c5f', '#89acd8', '#f11', '#d48265', '#91c7ae', '#749f83', '#ca8622', '#bda29a', '#6e7074', '#546570', '#c4ccd3'],
				tooltip: {
					show: true, trigger: 'axis',
					axisPointer: {
						type: 'cross', label: { backgroundColor: 'rgba(0,0,0,0)', textStyle: { color: "red" } }, lineStyle: { color: "#1aa2e6" }
					},
					position: ["50%", "3%"], alwaysShowContent: true, backgroundColor: "rgba(0,0,0,0)", textStyle: { color: "#333" },
					//    formatter: ' <div style="width: 100%;margin-left: -50%;font-size: 14px;">{a0}: <span style="color:#f4333c">{c0}%</span></div>'
					formatter: function (item) {
                        var arr = [];
                        arr.push(' <div style="width: 100%;margin-left:-50%;font-size: 14px;margin-top:2%;">');
                        if(item[0].data != undefined && item[0].data != null && item[0].data != ''){
                            arr.push('<span style="display:inline-block;width:.75rem;height:.1rem;background:#148ce6;vertical-align: middle;"></span>');
                            arr.push('&nbsp;&nbsp;本基金：' + item[0].data + '%' +'&nbsp;&nbsp;&nbsp;&nbsp;');
						}
                        if(item[1].data != undefined && item[1].data != null && item[1].data != ''){
                            arr.push('<span style="display:inline-block;width:.75rem;height:.1rem;background:#fb5c5f;vertical-align: middle;"></span>');
                            arr.push('&nbsp&nbsp业绩基准：' + item[1].data + '% <i class="fund-i" onclick="layerShow2()"></i>');
                        }
                        arr.push("</div>");
                        return arr.join("");
					}
				},
				grid: { left: '3%', right: '6%', bottom: '5%', top: "20%", containLabel: true },
				xAxis: [
					{
						type: 'category', boundaryGap: false, axisTick: { show: false },
						// splitLine: { show: true, lineStyle: { color: "#999999" } },
						axisLine: { show: false, lineStyle: { color: "#999999" } },
						axisLabel: { interval: 30 ,formatter: function(value, index){
                                if(index ==0){ return "   " + value; }
                                return value + "      ";
                            }},
						data: [],
					}
				],
				yAxis: [
					{
						type: 'value',
						axisLine: { show: true, lineStyle: { color: "#f1f1f1" } },
						axisTick: { show: false },
						splitLine: { show: true, lineStyle: { color: "#f1f1f1" } },
						axisLabel: { show: true, formatter: "{value}%", textStyle: { color: "#999999", fontFamily: "Arial" } },
						axisPointer: { label: { show: false }, lineStyle: { type: "solid", color: "#1aa2e6" } }
					}
				],
				series: [
					{
						symbol: "none", name: '组合收益', type: 'line', smooth: true,
						areaStyle: {
							normal: {
								color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
									offset: 0, color: '#e8f4fd' // 0% 处的颜色
								}, {
									offset: 1, color: '#fff' // 100% 处的颜色
								}], false)
							}
						},
						lineStyle: {
							normal: {
								color: "#148ce6",
								width: 1
							}
						},
						data: []
					},
					{
						symbol: "none", name: '业绩基准', type: 'line', smooth: true,
						// areaStyle: {
						// 	normal: {
						// 		color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
						// 			offset: 0, color: '#e8f4fd' // 0% 处的颜色
						// 		}, {
						// 			offset: 1, color: '#fff' // 100% 处的颜色
						// 		}], false)
						// 	}
						// },
						lineStyle: {
							normal: {
								color: "#fb5c5f",
								width: 1
							}
						},
						data: []
					},
				]
			};

	  function requestGroupFundDetail(groupId){
		  $.get(App.projectNm + "/adviser/query_fundgroup_detail_info?groupId=" + groupId, function(resultStr){
			  var result = JSON.parse(resultStr);
			  if(result.returnCode == 0){
				  var detailInfo = result.body.detailInfo;
				  if(detailInfo != undefined && detailInfo != ""){

					  $("#dayYield").html(Number(detailInfo.dayYield).toFixed(2));
					  if(Number(detailInfo.dayYield) < 0){
						  $("#dayYield_p").removeClass("red");
						  $("#dayYield_p").addClass("green");
					  }
					  $("#fundgroupDesc").html('<div class="tupian"><img src="../images/fundgroup/jianyi.png" alt="" align="left" hspace="5" vspace="5"></div><span style="font-weight:bold">推荐建议：</span>'+detailInfo.fundgroupDesc);
					  if(App.isEmpty(detailInfo.proPageUrl)){
					  	$(".chakan").hide();
					  }else{
					  	$(".chakan").show();
					  	$("#proPageUrl").attr('href',detailInfo.proPageUrl);
					  }
					  var newStr = detailInfo.establishDateStr.split('-');
					  $("#createtimeStr").html("服务起始日："+newStr[0]+"年"+newStr[1]+"月"+newStr[2]+"日");
					  var changeAdvise = detailInfo.changeAdvise.length > 48 ? detailInfo.changeAdvise.substr(0,48) + '...' : detailInfo.changeAdvise;
					  $("#changeAdvise").html(changeAdvise);
					  $(".fromYear_name").html(detailInfo.displayYieldTypeNm);
                      $("#display_yield_desc").html(detailInfo.displayYieldDesc);
					  $("#fromYear").html(detailInfo.displayYield);
					  if(Number(detailInfo.displayYield) < 0){
						  $("#fromYear_p").removeClass("red");
						  $("#fromYear_p").addClass("green");
					  } else {
                          $("#fromYear_p").addClass("red");
                          $("#fromYear_p").removeClass("green");
					  }

                      $("#profit_one").html(detailInfo.oneMonthProfit + "%");
                      $("#profit_three").html(detailInfo.threeMonthProfit + "%");
                      $("#profit_year").html(detailInfo.nearYearProfit + "%");
                      $("#profit_six").html(detailInfo.halfYearProfit + "%");
                      
                      if("1" == detailInfo.isShowOnlineData){
                          $("#profit_since_title").html("上线以来");
                          $("#profit_since").html(detailInfo.onlineProfit + "%");
                          if(detailInfo.onlineProfit < 0){
                              $("#profit_since").css("color","#009944");
                          }
                      }else{
                          $("#profit_since_title").html("成立以来");
                          $("#profit_since").html(detailInfo.sinceProfit + "%");
                          if(detailInfo.sinceProfit < 0){
                              $("#profit_since").css("color","#009944");
                          }
                      }
                      if(detailInfo.oneMonthProfit < 0){
                          $("#profit_one").css("color","#009944");
                      }
                      if(detailInfo.threeMonthProfit < 0){
                          $("#profit_three").css("color","#009944");
                      }
                      if(detailInfo.nearYearProfit < 0){
                          $("#profit_year").css("color","#009944");
                      }
                      if(detailInfo.halfYearProfit < 0){
                          $("#profit_six").css("color","#009944");
                      }
					  $("#dayYieldDt").html(detailInfo.dayYieldDt);
                      establishDateStr = detailInfo.establishDateStr;


					  // var dataList = new Array();
					  // var groupDetails = detailInfo.groupDetails;
					  // for(var i in groupDetails){
						//   var subgroup = groupDetails[i];
						//   var subFunds = subgroup.subList;
						//   for(var j in subFunds){
						// 	  var fund = subFunds[j];
						// 	  dataList.push({'name': fund.fundNm, 'value': fund.percent, 'fundId':fund.fundId});
						//   }
					  // }
					  var fund_list_html = "";
					  var tab2_html = "";
					  var temp_index = 0;
					  dataList.forEach(function(item, index){
						  if(index % 2 == 0){
							  fund_list_html += '<li>';
						  }
						  var col = option_2_color[index % 7];
						  var cls = "";
						  if(temp_index == 0) cls = "fontBold";
						  fund_list_html += '<span class="pieEle '+cls+'" data-fundId="'+ item.fundId +'" data-fundNm = "'+ item.name +'"><div><i style="background-color: '+ col +'"></i></div><div>'+ item.name +'</div><div>'+ item.value +'%</div></span>';
						  if(index % 2 == 1){
							  fund_list_html += '</li>';
						  }
						  var isActive = "";
						  if(temp_index == 0) isActive = "active";
                          tab2_html += '<li class="'+isActive+'" data-fundId="'+ item.fundId +'" data-fundNm = "'+ item.name +'"><a>'+ item.name.substr(3,4) +'</a></li>';
                          temp_index++;
					  });
					  $('.fund-tab-btn').html(tab2_html);

                      $(".fund-tab-btn li").click(function(){
                          if($(this).hasClass("active")) { return;}
                          $(this).parents("ul").find("li").eq($(this).index()).addClass("active").siblings().removeClass('active');

                          var fundId = $(this).attr("data-fundId");
                          selectedFundName = $(this).attr("data-fundNm");
                          var tmpInfo = fundAchievementDataObj[fundId];
                          if(tmpInfo != undefined && tmpInfo != null && tmpInfo != ''){
                              $("#display_desc").html(tmpInfo);
						  } else {
                              $.get(App.projectNm + "/fund/fund_detail_info?fundId="+fundId,function(resultStr){
                                  var result = JSON.parse(resultStr);
                                  if(result.returnCode == 0){
                                      var fundDetailInfo = result.body;
                                      if(fundDetailInfo != undefined && fundDetailInfo != null){
                                          $("#display_desc").html(fundDetailInfo.achievementData);
                                          fundAchievementDataObj[fundId] = fundDetailInfo.achievementData;
                                      }
                                  }
                              });
						  }
                          $('.pieEle').each(function (ind, item) {
                              if ($(item).attr("data-fundId") === fundId) {
                                  $(this).addClass('fontBold')
                              } else {
                                  $(this).removeClass('fontBold')
                              }
                          })
                          myChart_2.dispatchAction({
                              type: 'downplay',
                              seriesIndex: [0, 1, 2, 3, 4, 5]
                          })
                          myChart_2.dispatchAction({
                              type: 'highlight',
                              // dataIndex:0,
                              name: selectedFundName,
                          });
                          getFundDetail(fundId);
                          getFundChartData(fundId);
                      });

					  $(".fund-list").html(fund_list_html);
					  var myChart_2 = echarts.init(document.getElementById('pie2'));
					  option_2.series[0].data = dataList;
					  myChart_2.setOption(option_2);
					  if(dataList.length > 0){
					      var fundInfo = dataList[0];
                          selectedFundName = fundInfo.name;
					  }

					  //高亮
					  myChart_2.dispatchAction({
						  type: 'highlight',
						  // dataIndex:0,
						  name: dataList[0].name,
					  });

					  myChart_2.dispatchAction(
						  {
							  type: 'showTip',
							  name: dataList[0].name,
							  seriesIndex: 0
						  }
					  );

                      $('.content3 .pieEle').on('click', function (ele) {
                          var fundId = $(this).attr("data-fundId");
                          var name = $(this).attr("data-fundNm");
						$(".produce").unbind().bind("click",function(){
							window.location.href = "../fund/steadyCombination.html?fundId=" + fundId;
						})
                          getFundDetail(fundId);
                          getFundChartData(fundId);
                          selectedBtn(fundId);
                          $('.pieEle').each(function (ind, item) {
                              if ($(item).attr("data-fundId") === fundId) {
                                  $(this).addClass('fontBold')
                              } else {
                                  $(this).removeClass('fontBold')
                              }
                          })
                          myChart_2.dispatchAction({
                              type: 'downplay',
                              seriesIndex: [0, 1, 2, 3, 4, 5]
                          })
                          myChart_2.dispatchAction({
                              type: 'highlight',
                              // dataIndex:0,
                              name: name,
                          });
                          $('.produce .produce_title').html(name)

                      });

					  myChart_2.on('click', function (e) {
						  $('.pieEle').each(function (ind, item) {
							  if ($(item).attr("data-fundId") === e.data.fundId) {
								  $(this).addClass('fontBold')
							  } else {
								  $(this).removeClass('fontBold')
							  }
						  })
						  myChart_2.dispatchAction({
							  type: 'downplay',
							  seriesIndex: [0, 1, 2, 3, 4, 5]
						  })
						  myChart_2.dispatchAction({
							  type: 'highlight',
							  // dataIndex:0,
							  name: e.name,
						  });
                          getFundDetail(e.data.fundId);
                          getFundChartData(e.data.fundId);
                          selectedBtn(e.data.fundId);
					  });
				  }
			  }else{
				  alert(result.returnMsg);
			  }
		  });
          investCount(groupId);
	  }

	function selectedBtn(fundId){
        $(".fund-tab-btn li").each(function () {
            if ($(this).attr("data-fundId") == fundId){
                $(this).addClass("active");
			} else {
                $(this).removeClass('active')
			}
        });
    }

    function queryGrouptradeDateInfo(){
        $.get(App.projectNm + "/adviser/query_group_trade_date_info?t=" + new Date().getTime(), function(resultStr){
            var result = JSON.parse(resultStr);
            if(result.returnCode == 0){
                $(".submit-time").html(result.body.submitTime);
                $(".confirm-time").html(result.body.confirmTime);
                $(".view-profit-time").html(result.body.viewProfitTime);
            }
        });
    }

    function getChartData(groupId, chartTp, queryTp, createDt){
       $.get(App.projectNm + "/adviser/query_fund_group_yields?groupId=" + groupId + "&chartTp=" + chartTp + "&queryTp=" + queryTp + "&createDt=" + createDt + "&t=" + new Date().getTime(), function(resultStr){
            var result = JSON.parse(resultStr);
            if(result.returnCode == 0){
                var chartDatas = result.body;
                var syList = chartDatas.syList;
                var hs300List = chartDatas.hs300List;
                var mixList = chartDatas.mixList;
                hs300List.length = syList.length;
                mixList.length = syList.length;
				
                mychart_gp_1 = echarts.init(document.getElementById('pie1'));
				setOption(option_1, syList, '');
				draw(mychart_gp_1,option_1);
                setTimeout(function () {
                    mychart_gp_1.dispatchAction({ type: 'showTip', seriesIndex: 0, dataIndex: syList.length - 1});
                    mychart_gp_1.dispatchAction({ type: 'showTip', seriesIndex: 0, dataIndex: - 1});
				}, 0);

            }
        });
    }

    function getTransferTimes(groupId){
        $.get(App.projectNm + "/adviser/query_fund_group_change_date?groupId=" + groupId, function(resultStr){
            //console.log(resultStr);
            var result = JSON.parse(resultStr);
            if(result.returnCode == 0){
                var dateList = result.body.dateList;
                if(dateList != undefined && dateList != null){
                    lastChangeDateStr = dateList[0];
                    var dataSize = dateList.length;
                    $("#transferCount").html(dataSize);
                if(lastChangeDateStr != "" && lastChangeDateStr != undefined){
                $("#changeStr").html("本次调仓日期"+lastChangeDateStr.replace(/-/g, '.'));
                }
                    if(dataSize <= 0){
                        $(".content8").hide();
                        $("#transferCount_a").attr("href", "javascript:void();");
                    }else{
                        transferNum = dataSize;
                        $("#transferCount_a").attr("href", "htffundxjb://action?type=fg&subType=fgtd&groupId="+ App.getUrlParam("groupId") + "&date=" + lastChangeDateStr);
                    }

                }
            } else {
                alert(result.returnMsg);
            }
        });
    }


	var fundAchievementDataObj = {};
	//查询基金详细接口
	function getFundDetail(fundId){
	    if(fundId == undefined || fundId == null) return;
	    
		// console.log(fundDetailInfoAll[fundId]);
		//判断是否有数据 如果没有就调接口
		if(fundDetailInfoAll[fundId] != undefined && fundDetailInfoAll[fundId] != null){//已经有数据
			var fundDetailInfo = fundDetailInfoAll[fundId];
			if(fundDetailInfo != undefined && fundDetailInfo != null){
			    $(".fund_id").html(fundId+'<span style="background:#ffefef;display:inline-block;width:auto;height:0.75rem;color:#fb5c5f;font-size:0.6rem;text-align:center;line-height:0.75rem;border-radius:50px;margin-left:0.5rem">&nbsp;'+fundDetailInfo.fundRiskLevelNm+'</span>');
                $(".fund_name").html(fundDetailInfo.fundNm);

				$(".produce").unbind().bind("click",function(){
					window.location.href = "../fund/steadyCombination.html?fundId=" + fundId;
				})

				if(fundDetailInfo.yearProfitStr != "--"){
					$(".fund_desc").html("近一年收益率");
					var yearProfitStr = fundDetailInfo.yearProfitStr;
				}else{
					var yearProfitStr = fundDetailInfo.sinceProfitStr;
					$(".fund_desc").html("成立以来收益率");
				}
				if(yearProfitStr==""||yearProfitStr==null|| yearProfitStr.length<1){
					yearProfitStr = "0.00";
				}
				if(yearProfitStr==""||yearProfitStr==null|| yearProfitStr.length<1){
                    yearProfitStr = "0.00";
                }
				if(yearProfitStr=="--"){
					$(".from_year_profit").html(yearProfitStr);
					$(".from_year_profit").css("color", "#f4333c");
				}else{
					$(".from_year_profit").html(Number(yearProfitStr).toFixed(2) + "%");
					if(Number(yearProfitStr) < 0){
						$(".from_year_profit").css("color", "#009944");
					} else {
						$(".from_year_profit").css("color", "#f4333c");
					}
				}
                var tag_html = "";
                fundDetailInfo.labels.forEach(function (item) {
                    tag_html += "<span>"+ item +"</span>";
                });
                $(".fund_tags").html(tag_html);
				$("#display_desc").html(fundDetailInfo.achievementData);
                fundAchievementDataObj[fundId] = fundDetailInfo.achievementData;
                var fundManageInfos = fundDetailInfo.fundManageInfos;

                if(fundManageInfos != undefined
                    && fundManageInfos != null
                    && fundManageInfos.length > 0){

                    $(".manager_name").html(fundManageInfos[0].name);
                    $(".manager_picture").attr("src", fundManageInfos[0].picture);
                    $(".manager_desc").html(managerDescObj[fundId]);
                    queryFundManager(fundManageInfos[0].managerId);
                }
            }
		}else{
			$.get(App.projectNm + "/fund/fund_detail_info?fundId="+fundId,function(resultStr){
				var result = JSON.parse(resultStr);
				if(result.returnCode == 0){
					var fundDetailInfo = result.body;
					if(fundDetailInfo != undefined && fundDetailInfo != null){
					    $(".fund_id").html(fundId+'<span style="background:#ffefef;display:inline-block;width:2.5rem;height:0.75rem;color:#fb5c5f;font-size:0.6rem;text-align:center;line-height:0.75rem;border-radius:50px;margin-left:0.5rem">'+fundDetailInfo.fundRiskLevelNm+'等级</span>');
	                    $(".fund_name").html(fundDetailInfo.fundNm);
						$(".produce").unbind().bind("click",function(){
							window.location.href = "../fund/steadyCombination.html?fundId=" + fundId;
						})
						if(fundDetailInfo.yearProfitStr != "--"){
							$(".fund_desc").html("近一年收益率");
							var yearProfitStr = fundDetailInfo.yearProfitStr;
						}else{
							var yearProfitStr = fundDetailInfo.sinceProfitStr;
							$(".fund_desc").html("成立以来收益率");
						}
						if(yearProfitStr==""||yearProfitStr==null|| yearProfitStr.length<1){
							yearProfitStr = "0.00";
						}
						if(yearProfitStr==""||yearProfitStr==null|| yearProfitStr.length<1){
							yearProfitStr = "0.00";
						}
						if(yearProfitStr=="--"){
							$(".from_year_profit").html(yearProfitStr);
							$(".from_year_profit").css("color", "#f4333c");
						}else{
							$(".from_year_profit").html(Number(yearProfitStr).toFixed(2) + "%");
							if(Number(yearProfitStr) < 0){
								$(".from_year_profit").css("color", "#009944");
							} else {
								$(".from_year_profit").css("color", "#f4333c");
							}
						}
	                    var tag_html = "";
	                    fundDetailInfo.labels.forEach(function (item) {
	                        tag_html += "<span>"+ item +"</span>";
	                    });
	                    $(".fund_tags").html(tag_html);
						$("#display_desc").html(fundDetailInfo.achievementData);
	                    fundAchievementDataObj[fundId] = fundDetailInfo.achievementData;
	                    var fundManageInfos = fundDetailInfo.fundManageInfos;

	                    if(fundManageInfos != undefined
	                        && fundManageInfos != null
	                        && fundManageInfos.length > 0){

	                        $(".manager_name").html(fundManageInfos[0].name);
	                        $(".manager_picture").attr("src", fundManageInfos[0].picture);
	                        $(".manager_desc").html(managerDescObj[fundId]);
	                        queryFundManager(fundManageInfos[0].managerId);
	                    }
	                }
				}
			});
		}
	}
	
	
	//跟我投人数
	function investCount(groupId){

            $.get("/fundgroup/v1/trade/follow/trade/count",function(resultStr){
                if(resultStr.body != undefined && resultStr.body != null){
                    gentouNumber = resultStr.body;
                    $(".followNum").html(gentouNumber.toLocaleString());
                }
            });

	}
	
	//跳转基金经理主页
	function queryFundManager(managerId){
	    if(managerId == undefined || managerId == null) return;
        $.get("/cms/v1/vedio/fund-manager-info?managerId="+managerId,function(result){
            if(result.returnCode == 0){
                $(".manager_home_url").attr("href", result.body.managerInfoUrl);
            }
        });
	}
	
	
	function getFundChartData(fundId){
		// console.log(charaDataAll[fundId]);
		//判断是否有数据 如果没有就调接口
		if(charaDataAll[fundId] != undefined && charaDataAll[fundId] != null){//已经有数据
			var charaDatas = charaDataAll[fundId];
            mychart_gp_1 = echarts.init(document.getElementById('pie3'));
            setOption_1(option_3, charaDatas);
            draw(mychart_gp_1,option_3);

            mychart_gp_1.dispatchAction({type: 'showTip', seriesIndex: 0, dataIndex: charaDatas.length-1 });
            mychart_gp_1.dispatchAction({ type: 'showTip', seriesIndex: 0, dataIndex: -1});
		}else{
			$.get("/productcenter/v1/new/compose/funds/"+fundId+"/curve/yield/collections?fundId="+fundId+"&dateRangeType=08",function(result){
				if(result.returnCode == 0){
					//选中对应的tab
					$(".fund-tab-btn li").each(function(){
						var fundIds = $(this).attr("data-fundId");
						if(fundId == fundIds){//选中
							$(this).parents("ul").find("li").eq($(this).index()).addClass("active").siblings().removeClass('active');
						}
					});
					//
					var charaDatas = result.body;
					charaDataAll[fundId] = result.body;
					if(charaDatas != undefined && charaDatas != null){
	                    mychart_gp_1 = echarts.init(document.getElementById('pie3'));
	                    setOption_1(option_3, charaDatas);
	                    draw(mychart_gp_1,option_3);

	                    mychart_gp_1.dispatchAction({type: 'showTip', seriesIndex: 0, dataIndex: charaDatas.length-1 });
	                    mychart_gp_1.dispatchAction({ type: 'showTip', seriesIndex: 0, dataIndex: -1});
					}
				}
			});
		}
	}
    function setOption_1(option,incomes1){
        var result1 =  formattingIncomes_1(incomes1);
        option.xAxis[0].data = result1.xArrs;
        option.xAxis[0].axisLabel.interval = result1.xArrs.length-2;
        option.series[0].data = result1.yArrs;
        option.series[1].data = result1.y2Arrs;
    }

    function setOption(option,incomes1, incomes2){
        var result1 =  formattingIncomes(incomes1);
        var result2 =  formattingIncomes(incomes2);
        option.xAxis[0].data = result1.xArrs;
        option.xAxis[0].axisLabel.interval = result1.xArrs.length-2;
        option.series[0].data = result1.yArrs;
        option.series[1].data = result2.yArrs;

    }
    function draw(myChart, option){
        if( !((option.series[0].data && option.series[0].data.length>0) ||  (option.series[1].data && option.series[1].data.length>0))){
            option.xAxis[0].data = ["",""];
            option.xAxis[0].axisLabel.interval = ["",""].length-2;
            $(".noData").show();
        }else{
            $(".noData").hide();
        }
        myChart.setOption(option);
        /* setTimeout(function(){
            myChart.dispatchAction({ type: 'showTip', seriesIndex: 0, dataIndex: 10 });
        },0); */
    }

    function formattingIncomes_1(incomes){
        var xArrs = [], yArrs = [], y2Arrs = [];
        var len = incomes.length;
        for (var i = 0; i < len; i++) {
            var chartDt = incomes[i].navDate;
            xArrs.push(chartDt.substr(2));
            yArrs.push(incomes[i].sumOfYield);
            y2Arrs.push(incomes[i].sumOfComparison);
        }
        return {xArrs: xArrs, yArrs: yArrs, y2Arrs: y2Arrs};
    }

    function formattingIncomes(incomes){
        var xArrs = [], yArrs = [];
        var len = incomes.length;
        for (var i = 0; i < len; i++) {
            var chartDt = incomes[i].chartDt;
            xArrs.push(chartDt.substr(2,2) + "-" + chartDt.substr(-4,2) + "-" + chartDt.substr(-2,2));
            yArrs.push(incomes[i].chartNum);
        }
        return {xArrs: xArrs, yArrs: yArrs};
    }
		// myChart_1 = echarts.init(document.getElementById('pie1'));
		// setOption(option_1, incomes1, incomes2);
		// draw(myChart_1, option_1);
        //
		// myChart_3 = echarts.init(document.getElementById('pie3'));
		// setOption(option_3, incomes1, incomes2);
		// draw(myChart_3, option_3);
	
    //制保留2位小数，如：2，会在2后面补上00.即2.00
    function toDecimal(x) {
        var f = parseFloat(x);
        if (isNaN(f)) {
            return false;
        }
        var f = Math.round(x*100)/100;
        var s = f.toString();
        var rs = s.indexOf('.');
        if (rs < 0) {
            rs = s.length;
            s += '.';
        }
        while (s.length <= rs + 2) {
            s += '0';
        }
        return s;
    }
    
    function queryRecommendInfo(){
        var url = "/mobile-bff/v1/fund/getFundRecommendInfo?productType=1&fundIds="+App.getUrlParam("groupId");
        
        $.get(url, function(result){
                if(result.returnCode == 0 && result.body != undefined && result.body != null){
					var html = '';
					result.body[App.getUrlParam("groupId")].forEach(function(item){
						if(App.isNotEmpty(item.url)){
							var infoTitle = item.infoTitle.length > 20 ? item.infoTitle.substr(0,20) + '...' : item.infoTitle;
							var urls =  "";
							if(App.isNotEmpty(item.url)){
								urls = item.url.replace("index","share");
							}
							html += '<li class="jingzhi div-jump list" style=" margin-top: 0.01rem;" onclick="visit(\''+urls+'\')">'
									+'	<p><img src="../images/fundgroup/sound.png" alt="" style="margin-right: .45rem;"><span >'+infoTitle+'</span></p>'
									+'	<img class="right_1" src="../images/fundgroup/icon02.png">'
									+'</li>';
						}
					});
					$("#content0 .wrap").html(html);
					if(html.length > 0){
						$("#content0").show();
						if($('#content0 .wrap .list').length>1){
							scroll();
						}
					}
                }
            }
        );

    }


	function queryFollowInfo(productId){
		var url = "/mobile-bff/v1/concern/queryConcernStatus?productId="+productId + '&productType=1';

		$.get(url, function(result){
				if(result.returnCode == 0 && result.body != undefined && result.body != null){
					if(result.body.status == '0'){
						//加自选
						setFollowBtnIcon('0');
						$(".addBtn").click(function (){addFollow(productId)});
					} else {
						//取消自选
						setFollowBtnIcon('1');
						$(".addBtn").click(function (){cancelFollow(productId)});
					}
				}
			}
		);

	}
	
	function addFollow(productId) {
		$(".addBtn").unbind();
		var url = "/mobile-bff/v1/concern/addConcern?productType=1&productIdGet="+productId;
		$.get(url, function(result){
					if(result.returnCode == 0 && result.body != undefined && result.body != null){
						if(result.body){
							showTip('添加成功');
							setFollowBtnIcon('1');
							$(".addBtn").click(function (){cancelFollow(productId)});
						} else {
							showTip('添加失败');
							$(".addBtn").click(function (){addFollow(productId)});
						}
					} else {
						showTip('添加失败');
						$(".addBtn").click(function (){addFollow(productId)});
					}
				}
		);
	}
	
	function cancelFollow(productId) {
		$(".addBtn").unbind();
		var url = "/mobile-bff/v1/concern/cancelConcern?productType=1&productIdGet="+productId;
		$.get(url, function(result){
					if(result.returnCode == 0 && result.body != undefined && result.body != null){
						if(result.body){
							showTip('取消成功');
							setFollowBtnIcon('0');
							$(".addBtn").click(function (){addFollow(productId)});
						} else {
							showTip('取消失败');
							$(".addBtn").click(function (){cancelFollow(productId)});
						}
					} else {
						showTip('取消失败');
						$(".addBtn").click(function (){cancelFollow(productId)});
					}
				}
		);
	}
	function setFollowBtnIcon(isFollow) {
		if(isFollow == '1'){
			$("#btn-star-img").removeClass('star-unchecked-selected');
			$("#btn-star-img").addClass('star-selected');
			$(".addBtn_txt").html('取消自选');
		} else {
			$("#btn-star-img").removeClass('star-selected');
			$("#btn-star-img").addClass('star-unchecked-selected');
			$(".addBtn_txt").html('加自选');
		}
	}

	var t1;
	function showTip(tip){
		$(".sm_tip p").html(tip);
		$(".sm_tip").show();
		t1 = setTimeout(hideTip, 2000);
	}
	function hideTip(){
		$(".sm_tip").hide();
		if(t1  != undefined && t1 != null){
			window.clearTimeout(t1);
		}
	}
	
	function visit(url){
		if(App.isNotEmpty(url)){
			window.location.href = url;
		}
	}

	function scroll() {
		$("#content0 .wrap .list:eq(0)").animate({ "margin-top": "-2.5rem" },1000, function () {
			$("#content0 .wrap .list:eq(0)").appendTo($("#content0 .wrap"));
			$("#content0 .wrap .list:last").css({ "margin-top": '0' });
		})
		setTimeout(scroll, 4000)
	}
	
	//查询成成份业绩
	var strKeys = "FundGroupYieldDesc"+App.getUrlParam("groupId");
	$.get('/mobile-bff/v1/unification/query?keys='+ strKeys, function(result){
            if(result.returnCode == 0 && result.body != undefined && result.body != null && result.body[strKeys]){
            	$("#last").html(result.body[strKeys]['unificationValue']); 
		        $("#last").each(function(){
		            var maxwidth=80;//设置最多显示的字数
		            var text=$(this).text();
		            if($(this).text().length>maxwidth){
		                $(this).text($(this).text().substring(0,maxwidth));
		                $(this).html($(this).html()+"..."+"<a href='###'style='color:#3fa0e9'> 展开全部</a>");//如果字数超过最大字数，超出部分用...代替，并且在后面加上点击展开的链接；

		            };
		            $(this).find("a").click(function(){
		                $(this).parent().text(text);//点击“点击展开”，展开全文
		            })
		        })
            }else{
            	$("#unificationValue").hide();
            }
    });

        function showTips(t){
        	$("#tip"+t).show();
        }
	</script>
</body>

</html>